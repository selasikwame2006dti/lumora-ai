<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lumora AI - Text Generation</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; padding: 10px; }
  label, textarea, button, pre { display: block; width: 100%; margin-bottom: 10px; }
  textarea { height: 150px; }
  button { padding: 10px; }
</style>
</head>
<body>
  <h1>Lumora AI Text Generator</h1>

  <label for="prompt">Enter your prompt:</label>
  <textarea id="prompt" placeholder="Type your prompt here..."></textarea>

  <button id="generateBtn">Generate Text</button>

  <h2>Result:</h2>
  <pre id="result"></pre>

  <script>
    const apiKey = '8b0e3babeda2c4e9c76e77ceb613c524'; // Replace with approved frontend API key
    const apiUrl = 'https://lumoapi.xo.je/api.php';

    document.getElementById('generateBtn').addEventListener('click', async () => {
      const prompt = document.getElementById('prompt').value.trim();
      if (!prompt) {
        alert('Please enter a prompt');
        return;
      }
      const resultEl = document.getElementById('result');
      resultEl.textContent = 'Generating...';

      try {
        const response = await fetch(`${apiUrl}?key=${apiKey}`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ prompt }),
        });

        const data = await response.json();

        if (response.ok && data.response) {
          resultEl.textContent = data.response;
        } else {
          resultEl.textContent = 'Error: ' + (data.error || 'Unknown error');
        }

      } catch (err) {
        resultEl.textContent = 'Fetch failed: ' + err.message;
      }
    });
  </script>
</body>
</html>
